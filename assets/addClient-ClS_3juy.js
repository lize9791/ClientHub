import{_ as e,r as l,a,s as t,c as o,b as n,d as r,e as u,u as d,f as s,w as i,g as m,h as c,o as p,i as g,j as _,k as b,l as f,m as h,n as V,p as y,M as w}from"./index-BLanIDpg.js";const k={ad:"安道尔",ae:"阿拉伯联合酋长国",af:"阿富汗",ag:"安提瓜和巴布达",ai:"安圭拉",al:"阿尔巴尼亚",am:"亚美尼亚",ao:"安哥拉",aq:"南极洲",ar:"阿根廷",as:"美属萨摩亚",at:"奥地利",au:"澳大利亚",aw:"阿鲁巴",ax:"奥兰",az:"阿塞拜疆",ba:"波斯尼亚和黑塞哥维那",bb:"巴巴多斯",bd:"孟加拉国",be:"比利时",bf:"布吉纳法索",bg:"保加利亚",bh:"巴林",bi:"普龙地",bj:"贝宁",bl:"圣巴泰勒米",bm:"百慕大",bn:"汶莱",bo:"玻利维亚",bq:"荷兰加勒比区",br:"巴西",bs:"巴哈马",bt:"不丹",bv:"布韦岛",bw:"波札那",by:"白俄罗斯",bz:"伯利兹",ca:"加拿大",cc:"科科斯（基林）群岛",cd:"刚果民主共和国",cf:"中非共和国",cg:"刚果共和国",ch:"瑞士",ci:"科特迪瓦",ck:"库克群岛",cl:"智利",cm:"喀麦隆",cn:"中华人民共和国",co:"哥伦比亚",cr:"哥斯达黎加",cu:"古巴",cv:"佛得角",cw:"库拉索",cx:"圣诞岛",cy:"赛普勒斯",cz:"捷克",de:"德国",dj:"吉布提",dk:"丹麦",dm:"多米尼克",do:"多明尼加",dz:"阿尔及利亚",ec:"厄瓜多尔",ee:"爱沙尼亚",eg:"埃及",eh:"西撒哈拉",er:"厄立特里亚",es:"西班牙",et:"埃塞俄比亚",eu:"欧洲联盟",fi:"芬兰",fj:"斐济",fk:"福克兰群岛",fm:"密克罗尼西亚联邦",fo:"法罗群岛",fr:"法国",ga:"加蓬",gb:"英国","gb-eng":"英格兰","gb-nir":"北爱尔兰","gb-sct":"苏格兰","gb-wls":"威尔斯",gd:"格林纳达",ge:"格鲁吉亚",gf:"法属圭亚那",gg:"根西行政区",gh:"加纳",gi:"直布罗陀",gl:"格陵兰",gm:"冈比亚",gn:"几内亚",gp:"瓜德罗普",gq:"赤道几内亚",gr:"希腊",gs:"南乔治亚和南桑威奇群岛",gt:"危地马拉",gu:"关岛",gw:"几内亚比索",gy:"圭亚那",hk:"香港",hm:"赫德岛和麦克唐纳群岛",hn:"洪都拉斯",hr:"克罗地亚",ht:"海地",hu:"匈牙利",id:"印度尼西亚",ie:"爱尔兰",il:"以色列",im:"曼岛",in:"印度",io:"英属印度洋领地",iq:"伊拉克",ir:"伊朗",is:"冰岛",it:"意大利",je:"泽西",jm:"牙买加",jo:"约旦",jp:"日本",ke:"肯尼亚",kg:"吉尔吉斯斯坦",kh:"柬埔寨",ki:"基里巴斯",km:"葛摩",kn:"圣克里斯多福及尼维斯",kp:"朝鲜民主主义人民共和国",kr:"大韩民国",kw:"科威特",ky:"开曼群岛",kz:"哈萨克斯坦",la:"老挝",lb:"黎巴嫩",lc:"圣卢西亚",li:"列支敦斯登",lk:"斯里兰卡",lr:"利比里亚",ls:"莱索托",lt:"立陶宛",lu:"卢森堡",lv:"拉脱维亚",ly:"利比亚",ma:"摩洛哥",mc:"摩纳哥",md:"摩尔多瓦",me:"蒙特内哥罗",mf:"法属圣马丁",mg:"马达加斯加",mh:"马绍尔群岛",mk:"北马其顿",ml:"马里",mm:"缅甸",mn:"蒙古国",mo:"澳门",mp:"北马里亚纳群岛",mq:"马提尼克",mr:"毛里塔尼亚",ms:"蒙特塞拉特",mt:"马耳他",mu:"毛里求斯",mv:"马尔代夫",mw:"马拉维",mx:"墨西哥",my:"马来西亚",mz:"莫桑比克",na:"纳米比亚",nc:"新喀里多尼亚",ne:"尼日尔",nf:"诺福克岛",ng:"奈及利亚",ni:"尼加拉瓜",nl:"荷兰王国",no:"挪威",np:"尼泊尔",nr:"诺鲁",nu:"纽埃",nz:"新西兰",om:"阿曼",pa:"巴拿马",pe:"秘鲁",pf:"法属玻里尼西亚",pg:"巴布亚新几内亚",ph:"菲律宾",pk:"巴基斯坦",pl:"波兰",pm:"圣皮埃尔和密克隆",pn:"皮特凯恩群岛",pr:"波多黎各",ps:"巴勒斯坦国",pt:"葡萄牙",pw:"帛琉",py:"巴拉圭",qa:"卡塔尔",re:"留尼汪",ro:"罗马尼亚",rs:"塞尔维亚",ru:"俄罗斯",rw:"卢旺达",sa:"沙特阿拉伯",sb:"所罗门群岛",sc:"塞舌尔",sd:"苏丹",se:"瑞典",sg:"新加坡",sh:"圣赫勒拿、阿森松和特里斯坦-达库尼亚",si:"斯洛文尼亚",sj:"斯瓦巴和扬马延",sk:"斯洛伐克",sl:"塞拉利昂",sm:"圣马力诺",sn:"塞内加尔",so:"索马里",sr:"苏利南",ss:"南苏丹",st:"圣多美和普林西比",sv:"萨尔瓦多",sx:"荷属圣马丁",sy:"叙利亚",sz:"史瓦帝尼",tc:"特克斯和凯科斯群岛",td:"乍得",tf:"法属南部和南极领地",tg:"多哥",th:"泰国",tj:"塔吉克斯坦",tk:"托克劳",tl:"东帝汶",tm:"土库曼斯坦",tn:"突尼西亚",to:"东加",tr:"土耳其",tt:"千里达及托巴哥",tv:"图瓦卢",tw:"中华民国",tz:"坦桑尼亚",ua:"乌克兰",ug:"乌干达",um:"美国本土外小岛屿",un:"联合国",us:"美国",uy:"乌拉圭",uz:"乌兹别克斯坦",va:"梵蒂冈",vc:"圣文森特和格林纳丁斯",ve:"委内瑞拉",vg:"英属维尔京群岛",vi:"美属维尔京群岛",vn:"越南",vu:"瓦努阿图",wf:"瓦利斯和富图纳",ws:"萨摩亚",xk:"科索沃",ye:"也门",yt:"马约特",za:"南非",zm:"赞比亚",zw:"辛巴威"},v={class:"add-client-container"},q={class:"add-client-header"},U={class:"main-container"},z={class:"client-info-box"},x={class:"inline-box"},j=e({__name:"addClient",setup(e){const j=c(),C=l(!1),Y=a({client_name:"",is_transfer:!0,client_email:"",client_phone:"",follow_up_method:[],country:"",remark:"",state:"",origin:"",profit:"",inquiry_date:"",follow_up_date:"",file:[],order_num:"",language:"",client_company:"",product_name:"",product_specifications:""}),M={client_name:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],is_transfer:[{required:!0,message:"请选择是否为转接客户",trigger:"change"}],client_email:[{required:!1,message:"请输入邮箱地址",trigger:"change"},{validator:e=>!e||/^[\w.-]+@[\w.-]+\.\w+$/.test(e),message:"邮箱格式不正确",trigger:"blur"}],client_phone:[{required:!1,message:"请输入联系电话",trigger:"change"},{validator:e=>!e||/^\+?[1-9]\d{0,3}[-.\s]?\d{4,14}(?:[-.\s]\d{1,13})?$/.test(e),message:"请输入正确的国际电话号码（示例：+86 13800138000）",trigger:"blur"}],follow_up_method:[{required:!0,message:"请选择跟进方式",trigger:"change"}],country:[{required:!0,message:"请输入或选择国家",trigger:"blur"}],remark:[{required:!1}],state:[{required:!0,message:"请选择客户状态",trigger:"change"}],origin:[{required:!0,message:"请选择客户来源",trigger:"change"}],profit:[{validator:e=>void 0===e||""===e||/^\d+(\.\d+)?$/.test(e),message:"利润必须为数字",trigger:"blur"}],inquiry_date:[{required:!0,message:"请选择日期",trigger:"change"}],file:[{required:!1}],order_num:[{required:!0,message:"请输入单号",trigger:"blur"}],language:[{required:!0,message:"请输入客户语言",trigger:"blur"}],client_company:[{required:!1,message:"请输入客户公司名称",trigger:"blur"}],product_name:[{required:!0,message:"请输入产品名称",trigger:"blur"}],product_specifications:[{required:!0,message:"请输入产品规格",trigger:"blur"}]},$=Object.entries(k).sort(([,e],[,l])=>e.localeCompare(l,"zh-CN")).map(([e,l])=>({label:l,value:e})),D=[];for(const l in t)D.push({label:t[l].label,value:l});const E=[];for(const l in b)E.push({label:b[l],value:l});const H=[];for(const l in f)H.push({label:f[l],value:l});const N=[];for(const l in h)N.push({label:h[l],value:l});const R=()=>{j.back()},I=()=>{w.success("重置成功")},O=async({validateResult:e,firstError:l})=>{if(!0===e){const e={created_at:V().format("YYYY-MM-DD HH:mm:ss+08"),follow_up_method:Y.follow_up_method.join(","),country:k[Y.country],country_addrev:Y.country,inquiry_date:Y.inquiry_date+"+08",follow_up_date:Y.follow_up_date+"+08"},l={...Y,...e};delete l.file,C.value=!0;201===(await y.insertClient(l)).status&&(C.value=!1,await w.success("添加成功"))}else console.log("Errors: ",e),await w.warning(l)};return(e,l)=>{const a=m("t-input"),t=m("t-form-item"),c=m("t-date-picker"),b=m("t-select"),f=m("t-switch"),h=m("t-checkbox-group"),V=m("t-textarea"),y=m("t-input-number"),w=m("t-upload"),k=m("t-button"),j=m("t-space"),S=m("t-form");return p(),o("div",v,[n("header",q,[n("span",{class:"back",onClick:R},[r(d(s),{size:"26"}),l[18]||(l[18]=u(" 返回列表 ",-1))]),l[19]||(l[19]=n("span",{class:"line"},null,-1)),l[20]||(l[20]=n("span",{class:"text"},"新增客户",-1))]),n("main",U,[n("div",z,[r(S,{ref:"form",data:Y,rules:M,"reset-type":"initial",disabled:C.value,colon:"",onReset:I,onSubmit:O},{default:i(()=>[r(t,{label:"姓名",name:"client_name"},{default:i(()=>[r(a,{modelValue:Y.client_name,"onUpdate:modelValue":l[0]||(l[0]=e=>Y.client_name=e),placeholder:"请输入客户姓名"},null,8,["modelValue"])]),_:1}),n("div",x,[r(t,{label:"询盘日期",name:"inquiry_date"},{default:i(()=>[r(c,{modelValue:Y.inquiry_date,"onUpdate:modelValue":l[1]||(l[1]=e=>Y.inquiry_date=e),mode:"date","enable-time-picker":"","allow-input":"",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{label:"客户语言",name:"language"},{default:i(()=>[r(b,{modelValue:Y.language,"onUpdate:modelValue":l[2]||(l[2]=e=>Y.language=e),options:N,clearable:"",filterable:"",placeholder:"请选择客户语言"},null,8,["modelValue"])]),_:1})]),r(t,{label:"国家",name:"country"},{default:i(()=>[r(b,{modelValue:Y.country,"onUpdate:modelValue":l[3]||(l[3]=e=>Y.country=e),options:d($),clearable:"",filterable:"",placeholder:"请选择客户国家"},null,8,["modelValue","options"])]),_:1}),r(t,{label:"客户公司",name:"client_company"},{default:i(()=>[r(a,{modelValue:Y.client_company,"onUpdate:modelValue":l[4]||(l[4]=e=>Y.client_company=e),placeholder:"请输入客户公司名称"},null,8,["modelValue"])]),_:1}),r(t,{label:"状态",name:"state"},{default:i(()=>[r(b,{modelValue:Y.state,"onUpdate:modelValue":l[5]||(l[5]=e=>Y.state=e),options:D,clearable:""},null,8,["modelValue"])]),_:1}),[3,4].includes(Number(Y.state))?(p(),g(t,{key:0,label:"单号",name:"order_num"},{default:i(()=>[r(a,{modelValue:Y.order_num,"onUpdate:modelValue":l[6]||(l[6]=e=>Y.order_num=e),placeholder:"请输入单号"},null,8,["modelValue"])]),_:1})):_("",!0),r(t,{label:"询盘来源",name:"origin"},{default:i(()=>[r(b,{modelValue:Y.origin,"onUpdate:modelValue":l[7]||(l[7]=e=>Y.origin=e),options:E,clearable:""},null,8,["modelValue"])]),_:1}),r(t,{label:"是否转交",name:"is_transfer"},{default:i(()=>[r(f,{modelValue:Y.is_transfer,"onUpdate:modelValue":l[8]||(l[8]=e=>Y.is_transfer=e),label:["是","否"]},null,8,["modelValue"])]),_:1}),r(t,{label:"邮箱",name:"client_email"},{default:i(()=>[r(a,{modelValue:Y.client_email,"onUpdate:modelValue":l[9]||(l[9]=e=>Y.client_email=e),placeholder:"请输入客户邮箱"},null,8,["modelValue"])]),_:1}),r(t,{label:"电话",name:"client_phone"},{default:i(()=>[r(a,{modelValue:Y.client_phone,"onUpdate:modelValue":l[10]||(l[10]=e=>Y.client_phone=e),placeholder:"请输入客户电话"},null,8,["modelValue"])]),_:1}),r(t,{label:"跟进方式",name:"follow_up_method"},{default:i(()=>[r(h,{modelValue:Y.follow_up_method,"onUpdate:modelValue":l[11]||(l[11]=e=>Y.follow_up_method=e),options:H},null,8,["modelValue"])]),_:1}),r(t,{label:"跟进日期",name:"follow_up_date"},{default:i(()=>[r(c,{modelValue:Y.follow_up_date,"onUpdate:modelValue":l[12]||(l[12]=e=>Y.follow_up_date=e),mode:"date","enable-time-picker":"","allow-input":"",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{label:"产品名称",name:"product_name"},{default:i(()=>[r(a,{modelValue:Y.product_name,"onUpdate:modelValue":l[13]||(l[13]=e=>Y.product_name=e),placeholder:"请输入产品名称"},null,8,["modelValue"])]),_:1}),r(t,{label:"产品规格",name:"product_specifications"},{default:i(()=>[r(V,{modelValue:Y.product_specifications,"onUpdate:modelValue":l[14]||(l[14]=e=>Y.product_specifications=e),placeholder:"请输入产品规格",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{label:"利润(美金)",name:"profit"},{default:i(()=>[r(y,{modelValue:Y.profit,"onUpdate:modelValue":l[15]||(l[15]=e=>Y.profit=e),theme:"normal",placeholder:"请输入利润"},null,8,["modelValue"])]),_:1}),r(t,{label:"备注",name:"remark"},{default:i(()=>[r(V,{modelValue:Y.remark,"onUpdate:modelValue":l[16]||(l[16]=e=>Y.remark=e),placeholder:"客户备注",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{label:"相关文件",name:"file"},{default:i(()=>[r(w,{modelValue:Y.file,"onUpdate:modelValue":l[17]||(l[17]=e=>Y.file=e),action:"/",theme:"image",tips:"请选择单张图片文件上传",accept:"image/*"},null,8,["modelValue"])]),_:1}),r(t,{class:"btn-box"},{default:i(()=>[r(j,{size:"small",class:"form-btn-space"},{default:i(()=>[r(k,{theme:"default",variant:"base",type:"reset",style:{width:"100px"}},{default:i(()=>[...l[21]||(l[21]=[u(" 重置 ",-1)])]),_:1}),r(k,{theme:"primary",type:"submit",style:{width:"100%"}},{default:i(()=>[...l[22]||(l[22]=[u("提交",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["data","disabled"])])])])}}},[["__scopeId","data-v-d1dcd95c"]]);export{j as default};
